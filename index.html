<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tuber√≠as en Paralelo ‚Äî Mec√°nica de Fluidos</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- SweetAlert2 -->
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.27/dist/sweetalert2.min.css" rel="stylesheet">

  <style>
    :root{ --primary:#0b6fb3; --accent:#2A9D8F; --muted:#6c757d; --card-shadow:0 10px 30px rgba(11,111,179,0.08);} 
    *{box-sizing:border-box}
    body{font-family:'Poppins',system-ui,-apple-system,'Segoe UI',Roboto,Arial; background:linear-gradient(180deg,#f4f8fc 0%, #ffffff 45%); color:#0b2540}
    .navbar{backdrop-filter:blur(6px);}
    .hero{background:linear-gradient(90deg, rgba(42,157,143,0.08), rgba(11,111,179,0.04)); border-radius:14px; padding:28px; box-shadow:var(--card-shadow)}
    .card-custom{border:0; border-radius:12px; box-shadow:var(--card-shadow)}
    .section-title{color:var(--primary); font-weight:700}
    .badge-accent{background:var(--accent); color:#fff}
    .carousel-caption{left:1rem; right:1rem; bottom:1rem}
    footer{font-size:0.9rem}
    .highlight{background:linear-gradient(90deg, rgba(11,111,179,0.06), rgba(42,157,143,0.04)); padding:8px 12px; border-radius:8px}
    .glow{transition:box-shadow .25s ease} .glow:hover{box-shadow:0 8px 24px rgba(11,111,179,0.12)}

    /* Smooth scroll behavior */
    html{scroll-behavior:smooth}

    /* Dark-mode simple */
    body.dark{background:linear-gradient(180deg,#071928 0%, #071928 50%); color:#d6eef6}
    body.dark .hero{background:linear-gradient(90deg, rgba(42,157,143,0.08), rgba(11,111,179,0.06))}
    .ms-small{max-width:680px}

    @media (max-width:576px){ .carousel-caption{display:none} }
  </style>
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="#">
      <i class="bi bi-funnel-fill me-2" style="color:var(--primary)"></i>
      <div>
        <div style="font-weight:700">Tuber√≠as en Paralelo</div>
        <small class="text-muted">Mec√°nica de Fluidos</small>
      </div>
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto align-items-lg-center">
        <li class="nav-item"><a class="nav-link" href="#inicio">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" href="#conceptos">Conceptos</a></li>
        <li class="nav-item"><a class="nav-link" href="#fundamentos">Fundamentos</a></li>
        <li class="nav-item"><a class="nav-link" href="#ejemplo">Ejemplo pr√°ctico</a></li>
        <li class="nav-item"><a class="nav-link" href="#aplicaciones">Aplicaciones</a></li>
        <li class="nav-item"><a class="nav-link" href="#ejercicios">Ejercicios</a></li>
        <li class="nav-item"><a class="nav-link" href="#conclusiones">Conclusiones</a></li>
        <li class="nav-item"><a class="nav-link" href="#referencias">Referencias</a></li>
        <li class="nav-item ms-2"><button id="toggleTheme" class="btn btn-sm btn-outline-secondary"><i class="bi bi-moon-stars"></i></button></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container py-5">

  <!-- INICIO -->
  <section id="inicio" class="mb-5">
    <div class="row g-3 align-items-center">
      <div class="col-md-7">
        <div class="hero">
          <h1 class="mb-2"><strong><span style="color:var(--primary)">Tuber√≠as en Paralelo</span></strong></h1>
          <p class="lead ms-small">Bienvenido a este espacio donde aprender√°s c√≥mo funciona el flujo de fluidos en sistemas de tuber√≠as conectadas en paralelo. Incluye teor√≠a, ejemplos, ejercicios interactivos y recursos visuales.</p>

          <div class="mt-3">
            <a class="btn btn-primary me-2" href="#conceptos">Aprender conceptos</a>
            <button class="btn btn-outline-primary me-2" id="openExampleVideo"><i class="bi bi-play-btn me-1"></i> Ver ejemplo pr√°ctico (video)</button>
            <a class="btn btn-accent" href="#ejercicios" style="background:var(--accent); color:#fff"><i class="bi bi-clipboard-check me-1"></i> Resolver ejercicios</a>
            <a href="{{ url_for('static', filename='Tablas_fluidos.pdf') }}" 
   download 
   class="btn btn-danger btn-lg">
  <i class="bi bi-file-earmark-pdf"></i> Descargar Tablas de Fluidos
</a>

          </div>
        </div>
      </div>

      <div class="col-md-5">
        <!-- Carousel did√°ctico -->
        <div id="carouselFluidos" class="carousel slide shadow rounded-4" data-bs-ride="carousel" data-bs-interval="4000">
          <div class="carousel-inner rounded-4">
            <div class="carousel-item active">
              <img src="https://storage.googleapis.com/site.esss.co/78379ab8-thumb-quarta-tecnica-uso-de-malhas-sobrepostas-avaliacao-problemas-com-movimentacao.webp" class="d-block w-100" alt="L√≠neas de corriente">
              <div class="carousel-caption text-start rounded-3 p-2 bg-dark bg-opacity-50">
                <h5>Din√°mica de fluidos</h5>
                <p class="mb-0">L√≠neas de corriente y v√≥rtices alrededor de un obst√°culo.</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="https://static.wixstatic.com/media/6780b3_9e303d3169ff4eb8b009b7fdf6db4e01~mv2.jpg/v1/fill/w_1310,h_654,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/6780b3_9e303d3169ff4eb8b009b7fdf6db4e01~mv2.jpg" class="d-block w-100" alt="Flujo en tuber√≠a">
              <div class="carousel-caption text-start rounded-3 p-2 bg-dark bg-opacity-50">
                <h5>Flujo en tuber√≠as</h5>
                <p class="mb-0">Ejemplo de distribuci√≥n de caudal en conductos.</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="https://www.cottesgroup.com/app/uploads/2024/09/AdobeStock_504892623-scaled.jpeg" class="d-block w-100" alt="Principio de Bernoulli">
              <div class="carousel-caption text-start rounded-3 p-2 bg-dark bg-opacity-50">
                <h5>Principio de Bernoulli</h5>
                <p class="mb-0">Relaci√≥n entre presi√≥n, velocidad y altura.</p>
              </div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselFluidos" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselFluidos" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- CONCEPTOS B√ÅSICOS -->
  <section id="conceptos" class="mb-5">
    <div class="card card-custom p-4">
      <h2 class="section-title">Conceptos B√°sicos</h2>
      <p class="mb-2">Las tuber√≠as en paralelo son aquellas que se conectan entre los mismos dos puntos del sistema, permitiendo que el fluido se divida y circule por varios caminos al mismo tiempo.</p>
      <div class="row">
        <div class="col-md-6">
          <h5>Caracter√≠sticas</h5>
          <ul>
            <li>La p√©rdida de carga es la misma en cada ramal.</li>
            <li>El caudal total es la suma de los caudales de cada tuber√≠a: <strong>Q<sub>T</sub> = Q<sub>1</sub> + Q<sub>2</sub> + ...</strong></li>
            <li>Se usa frecuentemente para equilibrar redes y distribuir caudal.</li>
          </ul>
        </div>
        <div class="col-md-6">
          <h5>Diferencia con serie</h5>
          <p>En serie, el caudal es el mismo y las p√©rdidas se suman. En paralelo, la p√©rdida es igual y el caudal se divide.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FUNDAMENTOS TE√ìRICOS -->
<section id="fundamentos" class="mb-5">
<div class="row g-3">
<div class="col-lg-6">
<div class="card card-custom p-4">
<h3 class="section-title">Fundamentos Te√≥ricos</h3>


<h6 class="mt-3">Ecuaci√≥n de continuidad</h6>
<p class="mb-2">La ecuaci√≥n de continuidad expresa la conservaci√≥n de masa en flujo incompresible:</p>
<div class="formula mb-3"><code>Q = A ¬∑ V</code> ‚Äî donde <em>Q</em> es el caudal (m¬≥/s), <em>A</em> el √°rea de la secci√≥n transversal (m¬≤) y <em>V</em> la velocidad media (m/s).</div>


<h6>N√∫mero de Reynolds</h6>
<p class="mb-2">El n√∫mero de Reynolds caracteriza el r√©gimen de flujo:</p>
<div class="formula mb-3"><code>Re = (œÅ ¬∑ V ¬∑ D) / Œº</code></div>
<ul>
<li><strong>Flujo laminar:</strong> Re &lt; 2000</li>
<li><strong>Flujo transicional:</strong> 2000 ‚â§ Re ‚â§ 4000</li>
<li><strong>Flujo turbulento:</strong> Re &gt; 4000</li>
</ul>


<h6 class="mt-3">Ecuaci√≥n de Bernoulli (simplificada)</h6>
<p class="mb-2">Relaci√≥n entre presi√≥n, energ√≠a cin√©tica y energ√≠a potencial por unidad de masa:</p>
<div class="formula mb-3"><code>p/œÅ + V¬≤/2 + g z = constante</code></div>


</div>
</div>


<div class="col-lg-6">
<div class="card card-custom p-4">
<h3 class="section-title">P√©rdidas de carga y factor de fricci√≥n</h3>


<h6 class="mt-2">Darcy‚ÄìWeisbach</h6>
<p class="mb-2">La p√©rdida de carga por fricci√≥n en una tuber√≠a se calcula con:</p>
<div class="formula mb-3"><code>h_f = f ¬∑ (L/D) ¬∑ (V¬≤ / 2g)</code></div>
<p>Donde <em>f</em> es el factor de fricci√≥n adimensional, <em>L</em> la longitud, <em>D</em> el di√°metro y <em>g</em> la gravedad.</p>


<h6 class="mt-2">Factor de fricci√≥n <code>f</code></h6>
<p class="mb-2">El factor de fricci√≥n depende del r√©gimen de flujo y de la rugosidad relativa (Œµ/D). Dos casos sencillos:</p>
<ul>
<li><strong>Flujo laminar:</strong> <span class="formula d-inline-block me-2"><code>f = 64 / Re</code></span> (v√°lido para Re &lt; 2000).</li>
<li><strong>Flujo turbulento:</strong> El factor <em>f</em> se obtiene generalmente mediante la ecuaci√≥n impl√≠cita de Colebrook o por f√≥rmulas expl√≠citas aproximadas como Swamee‚ÄìJain.</li>
</ul>


<h6 class="mt-3">Ecuaci√≥n de Colebrook (impl√≠cita)</h6>
<p class="mb-2">La ecuaci√≥n de Colebrook relaciona f, Re y Œµ/D (rugosidad relativa). En forma verbal:</p>
<div class="formula mb-3">1/sqrt(f) = -2 ¬∑ log10( (Œµ/D)/3.7 + 2.51 / (Re ¬∑ sqrt(f)) ) ‚Äî (Colebrook, impl√≠cita)</div>


<h6 class="mt-2">Swamee‚ÄìJain (aproximaci√≥n expl√≠cita)</h6>
<div class="formula mb-3"><code>f = 0.25 / [ log10( (Œµ/(3.7¬∑D)) + (5.74 / Re^0.9) ) ]^2</code></div>


<p class="mb-2">En la calculadora de la p√°gina usamos una aproximaci√≥n expl√≠cita (Swamee‚ÄìJain) cuando Re ‚â• 2000 y f = 64/Re cuando Re &lt; 2000.</p>


<div class="mt-3">
<p class="mb-1"><strong>F√≥rmulas r√°pidas:</strong></p>
<div class="formula mb-2"><code>f = 64 / Re &nbsp; (laminar)</code></div>
<div class="formula mb-2">
  <code>
    f = 0.25 / [log10((Œµ / D) / 3.7 + 5.74 / Re<sup>0.9</sup>)]<sup>2</sup> &nbsp; (turbulento)
  </code>
</div>
</div>


</div>
</div>
</section>

  <!-- EJEMPLO PR√ÅCTICO -->
  <section id="ejemplo" class="mb-5">
    <div class="card card-custom p-4">
      <h2 class="section-title">Ejemplo pr√°ctico</h2>
      <p>Dos tuber√≠as en paralelo conectadas entre A y B:</p>
      <ul>
        <li>Tuber√≠a 1: di√°metro D1 = 0.04 m, longitud L1 = 6 m</li>
        <li>Tuber√≠a 2: di√°metro D2 = 0.03 m, longitud L2 = 5 m</li>
        <li>Caudal total Q<sub>T</sub> = 0.01 m¬≥/s</li>
      </ul>
      <p>Objetivo: determinar Q1 y Q2 sabiendo que <em>h<sub>f1</sub> = h<sub>f2</sub></em>. A continuaci√≥n mostramos un procedimiento y resultado aproximado con la calculadora integrada.</p>

      <div class="mt-3">
        <button class="btn btn-primary" id="runExampleCalc"><i class="bi bi-calculator me-1"></i> Calcular soluci√≥n aproximada</button>
        <small class="text-muted d-block mt-2">La soluci√≥n se obtiene num√©ricamente igualando p√©rdidas de carga usando Darcy‚ÄìWeisbach y Swamee‚ÄìJain para f.</small>
      </div>

      <div id="exampleResult" class="mt-3" style="display:none;"></div>
    </div>
  </section>

  <!-- APLICACIONES REALES -->
  <section id="aplicaciones" class="mb-5">
    <div class="card card-custom p-4">
      <h2 class="section-title">Aplicaciones Reales</h2>
      <div class="row g-3">
        <div class="col-md-4">
          <img src="https://www.hidrotec.com/wp-content/uploads/2024/02/estacion-bombeo.webp" class="img-fluid rounded shadow-sm" alt="Red de agua">
          <h6 class="mt-2">Redes de agua potable</h6>
        </div>
        <div class="col-md-4">
          <img src="https://irrigationvalducci.com/wp-content/uploads/2020/04/AdobeStock_193349679-1024x731.jpeg" class="img-fluid rounded shadow-sm" alt="Riego">
          <h6 class="mt-2">Sistemas de riego</h6>
        </div>
        <div class="col-md-4">
          <img src="https://eadic.com/wp-content/uploads/2017/02/tuberias-1.jpg" class="img-fluid rounded shadow-sm" alt="Industria">
          <h6 class="mt-2">Instalaciones industriales</h6>
        </div>
      </div>
    </div>
  </section>

  <!-- EJERCICIOS INTERACTIVOS -->
  <section id="ejercicios" class="mb-5">
    <div class="card card-custom p-4">
      <h2 class="section-title">Ejercicios Interactivos</h2>
      <div class="row g-3">
          <div class="col-lg-6">
          <div class="p-3 border rounded">
          <div class="card-body">
            <form id="reynoldsForm">
              <div class="mb-3">
                <h5>Calculadora del N√∫mero de Reynolds</h5>
                <label for="temperatura" class="form-label fw-semibold">Temperatura (¬∞C)</label>
                <select id="temperatura" class="form-select" required>
                  <option value="">Selecciona...</option>
                  <option value="1.75e-6">0¬∞C</option>
                  <option value="1.52e-6">5¬∞C</option>
                  <option value="1.30e-6">10¬∞C</option>
                  <option value="1.15e-6">15¬∞C</option>
                  <option value="1.00e-6">20¬∞C</option>
                  <option value="8.94e-7">25¬∞C</option>
                  <option value="8.03e-7">30¬∞C</option>
                  <option value="7.22e-7">35¬∞C</option>
                  <option value="6.56e-7">40¬∞C</option>
                  <option value="6.02e-7">45¬∞C</option>
                  <option value="5.59e-7">50¬∞C</option>
                  <option value="5.23e-7">55¬∞C</option>
                  <option value="4.93e-7">60¬∞C</option>
                  <option value="4.67e-7">65¬∞C</option>
                  <option value="4.11e-7">70¬∞C</option>
                  <option value="3.83e-7">75¬∞C</option>
                  <option value="3.58e-7">80¬∞C</option>
                  <option value="3.41e-7">85¬∞C</option>
                  <option value="3.23e-7">90¬∞C</option>
                  <option value="3.06e-7">95¬∞C</option>
                  <option value="2.94e-7">100¬∞C</option>
                </select>
              </div>

              <div class="mb-3">
                <label for="diametro" class="form-label fw-semibold">Di√°metro de la tuber√≠a (m)</label>
                <input type="number" id="diametro" class="form-control" step="any" placeholder="Ej: 0.05" required>
              </div>

              <div class="mb-3">
                <label for="caudal" class="form-label fw-semibold">Caudal (m¬≥/s)</label>
                <input type="number" id="caudal" class="form-control" step="any" placeholder="Ej: 0.01" required>
              </div>

              <div class="text-center">
                <button type="button" class="btn btn-primary px-4" onclick="calcularReynolds()">Calcular</button>
              </div>
            </form>
<div id="calcResult1" class="mt-3" style="display:none;"></div>
        
          </div>
        </div>
      </div>
        <div class="col-lg-6">
          <div class="p-3 border rounded">
            <h5>Calculadora de caudales (2 tuber√≠as)</h5>
            <form id="calcForm">
              <div class="mb-2">
                <label class="form-label">Caudal total Q<sub>T</sub> (m¬≥/s)</label>
                <input type="number" step="any" min="0" class="form-control" id="QT" value="0.01">
              </div>
              <div class="mb-2">
                <label class="form-label">Di√°metro D1 (m)</label>
                <input type="number" step="any" min="0" class="form-control" id="D1" value="0.04">
              </div>
              <div class="mb-2">
                <label class="form-label">Longitud L1 (m)</label>
                <input type="number" step="any" min="0" class="form-control" id="L1" value="6">
              </div>
              <hr>
              <div class="mb-2">
                <label class="form-label">Di√°metro D2 (m)</label>
                <input type="number" step="any" min="0" class="form-control" id="D2" value="0.03">
              </div>
              <div class="mb-2">
                <label class="form-label">Longitud L2 (m)</label>
                <input type="number" step="any" min="0" class="form-control" id="L2" value="5"></div>

              <div class="d-flex justify-content-between align-items-center mt-3">
                <button type="button" class="btn btn-primary" id="calcButton">Calcular Q1 y Q2</button>
                <button type="reset" class="btn btn-light">Limpiar</button>
              </div>
            </form>

            <div id="calcResult" class="mt-3" style="display:none;"></div>

            <small class="text-muted d-block mt-2">Nota: se asume agua a 20¬∞C (œÅ ‚âà 998 kg/m¬≥, Œº ‚âà 0.001002 Pa¬∑s) y rugosidad relativa peque√±a.</small>
          </div>
        </div>

        <div class="col-lg-6">
          <div class="p-3 border rounded">
            <h5>Quiz r√°pido</h5>
            <div id="quiz">
              <div class="mb-3">
                <label class="form-label">1) En tuber√≠as en paralelo, ¬øqu√© ocurre con la p√©rdida de carga?</label>
                <div><div class="form-check"><input class="form-check-input" type="radio" name="q1" id="q1a" value="a"><label class="form-check-label" for="q1a">Se suma en cada tramo</label></div>
                <div class="form-check"><input class="form-check-input" type="radio" name="q1" id="q1b" value="b"><label class="form-check-label" for="q1b">Es igual en cada ramal</label></div></div>
              </div>

              <div class="mb-3">
                <label class="form-label">2) La ecuaci√≥n de continuidad Q = A¬∑V implica que...</label>
                <div class="form-check"><input class="form-check-input" type="radio" name="q2" id="q2a" value="a"><label class="form-check-label" for="q2a">Si A disminuye, V debe aumentar para conservar Q</label></div>
                <div class="form-check"><input class="form-check-input" type="radio" name="q2" id="q2b" value="b"><label class="form-check-label" for="q2b">Si A disminuye, V disminuye</label></div>
              </div>

              <div class="mb-3">
                <label class="form-label">3) ¬øQu√© n√∫mero indica flujo laminar (aprox.)?</label>
                <div class="form-check"><input class="form-check-input" type="radio" name="q3" id="q3a" value="a"><label class="form-check-label" for="q3a">Re = 500</label></div>
                <div class="form-check"><input class="form-check-input" type="radio" name="q3" id="q3b" value="b"><label class="form-check-label" for="q3b">Re = 50000</label></div>
              </div>

              <div class="d-flex justify-content-between">
                <button id="submitQuiz" class="btn btn-success">Enviar respuestas</button>
                <button id="resetQuiz" class="btn btn-light">Limpiar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

   </section>
  <!-- M√ìDULO DE C√ÅLCULO -->
<section id="calculadora" class="mt-5">
  <h2 class="section-title mb-4">Calculadora ‚Äî Tuber√≠as en Paralelo</h2>

  <!-- ENTRADA: CANTIDAD DE RAMALES -->
  <div class="card card-custom p-4 mb-4">
    <h5 class="mb-3"><strong>1. Cantidad de Ramales</strong></h5>

    <button class="btn btn-primary btn-sm mb-3" id="btnAgregarRamal">
      <i class="bi bi-plus-circle"></i> Agregar Ramal
    </button>

    <div id="listaRamales"></div>
  </div>

  <!-- BOT√ìN CALCULAR -->
  <div class="text-end">
    <button class="btn btn-success btn-lg" id="btnCalcular">
      <i class="bi bi-calculator"></i> Calcular Sistema
    </button>
  </div>

  <!-- RESULTADOS -->
  <div id="resultados" class="mt-5"></div>
</section>



  <!-- CONCLUSIONES -->
  <section id="conclusiones" class="mb-5">
    <div class="card card-custom p-4">
      <h2 class="section-title">Conclusiones</h2>
      <ul>
        <li>Las tuber√≠as en paralelo permiten dividir el flujo, manteniendo la misma p√©rdida de carga en cada ramal.</li>
        <li>Estos conceptos son fundamentales en el dise√±o de redes de distribuci√≥n y sistemas industriales.</li>
      </ul>
    </div>
  </section>
  
  <!-- REFERENCIAS -->
  <section id="referencias" class="mb-5">
    <div class="card card-custom p-4">
      <h2 class="section-title">Referencias</h2>
       <ul class="list-unstyled bib mt-3 mb-0">
            <li class="mt-2"><i class="bi bi-book"></i> Cengel, Y. A., & Cimbala, J. M. <em>Mec√°nica de Fluidos: Fundamentos y Aplicaciones.</em></li>
            <li class="mt-2"><i class="bi bi-book"></i> White, F. M. <em>Fluid Mechanics.</em></li>
            <li class="mt-2"><i class="bi bi-book"></i> Fox, R. W., Pritchard, P. J., & McDonald, A. T. <em>Introducci√≥n a la Mec√°nica de Fluidos.</em></li>
            <li><i class="bi bi-book"></i> √Ålvarez, D. O. (2025, febrero 5). <em>Fluidos. Concepto.</em> <small class="d-block">https://concepto.de/fluidos/</small></li>
            <li class="mt-2"><i class="bi bi-book"></i> Leskow, E. C. (2018, septiembre 25). <em>Mec√°nica en F√≠sica. Concepto.</em> <small class="d-block">https://concepto.de/mecanica-en-fisica/</small></li>
            <li class="mt-2"><i class="bi bi-book"></i> Wikipedia contributors. (s/f). <em>Tuber√≠as en paralelo. Wikipedia.</em> <small class="d-block">https://es.wikipedia.org/w/index.php?title=Tuber%C3%ADas_en_paralelo&oldid=130873863</small></li>
            <li class="mt-2"><i class="bi bi-book"></i> (S/f). <em>ScienceDirect ‚Äî Piping Systems (traducci√≥n)</em>. <small class="d-block">https://www-sciencedirect-com.translate.goog/topics/engineering/piping-systems</small></li>
          </ul>
    </div>
  </section>

  <footer class="text-center py-4 mt-5" style="background:#f8f9fa; border-top:1px solid #dee2e6;">
  <p class="mb-1 fw-semibold">Mec√°nica de Fluidos ‚Äî Tuber√≠as en Paralelo</p>
  <small class="d-block text-muted mb-2">
    <strong>Universidad Tecnol√≥gica de Bol√≠var</strong><br/> Desarrollado por <br/>
    <strong>Ramon Arevalo Perez</strong><br/>
    <strong>Carlos Andr√©s Anaya lambra√±o</strong><br/>
    <strong>Aura var√≥n sierra</strong><br/>
    <strong>Luisa Fernanda √Åvila Olea</strong><br/>
    <strong>Valentina Martinez casta√±o</strong><br/>
  </small>
  <a href="https://concepto.de/fluidos/" target="_blank" class="text-decoration-none me-2">
    <i class="bi-link-45deg"></i> Concepto.debi
  </a>
  <a href="https://es.wikipedia.org/wiki/Tuber%C3%ADas_en_paralelo" target="_blank" class="text-decoration-none me-2">
    <i class="bi bi-wikipedia"></i> Wikipedia
  </a>
  <a href="https://www.sciencedirect.com/topics/engineering/piping-systems" target="_blank" class="text-decoration-none">
    <i class="bi bi-book"></i> ScienceDirect
  </a>
</footer>

</div>

<!-- Video modal (ejemplo pr√°ctico) -->
<div class="modal fade" id="videoModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Ejemplo pr√°ctico ‚Äî Video explicativo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
<div class="ratio ratio-16x9">
  <iframe 
    src="https://www.youtube.com/embed/cEI3Knz892U?start=6" 
    title="Video ejemplo" 
    allowfullscreen>
  </iframe>
</div>

      </div>
    </div>
  </div>
</div>

<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.27/dist/sweetalert2.all.min.js"></script>

<script>
  // Theme toggle
  const themeBtn = document.getElementById('toggleTheme');
  themeBtn.addEventListener('click', () => { document.body.classList.toggle('dark'); });

  // Open example video
  document.getElementById('openExampleVideo')?.addEventListener('click', () => {
    const modal = new bootstrap.Modal(document.getElementById('videoModal'));
    modal.show();
  });

  // ---- Ejemplo pr√°ctico: llama al endpoint /api/parallel con los valores por defecto ----
  document.getElementById('runExampleCalc')?.addEventListener('click', async () => {
    const payload = { QT: 0.01, D1: 0.04, L1: 6, D2: 0.03, L2: 5 };
    Swal.fire({title:'Calculando...', didOpen: ()=>Swal.showLoading()});
    try {
      const res = await fetch('/api/parallel', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify(payload)
      });
      const data = await res.json();
      Swal.close();
      if (data.error) {
        Swal.fire({icon:'error', title:'Error', text: data.error});
        return;
      }
      const container = document.getElementById('exampleResult');
      container.style.display = 'block';
      container.innerHTML = `<div class="alert alert-info">Resultado aproximado: <strong>Q1 = ${data.Q1.toFixed(6)} m¬≥/s</strong>, <strong>Q2 = ${data.Q2.toFixed(6)} m¬≥/s</strong> (hf ‚âà ${data.hf.toFixed(6)} m) ‚Äî iter: ${data.it}</div>`;
    } catch (err) {
      Swal.close();
      Swal.fire({icon:'error', title:'Error', text: 'No se pudo conectar con el servidor.'});
    }
  });

  // ---- Calculadora Reynolds (usa /api/reynolds) ----
  async function calcularReynolds() {
    const nuVal = document.getElementById("temperatura").value;
    const D = parseFloat(document.getElementById("diametro").value);
    const Q = parseFloat(document.getElementById("caudal").value);

    if (!nuVal || !D || !Q) {
      Swal.fire({icon:'warning', title:'Datos incompletos', text:'Por favor ingresa todos los valores.'});
      return;
    }

    const nu = parseFloat(nuVal); // aqu√≠ asumes que el select te da la viscosidad cinem√°tica (m2/s)

    Swal.fire({title:'Calculando...', allowOutsideClick:false, didOpen: ()=>Swal.showLoading()});
    try {
      const res = await fetch('/api/reynolds', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({ nu: nu, D: D, Q: Q })
      });
      const data = await res.json();
      Swal.close();
      if (data.error) {
        Swal.fire({icon:'error', title:'Error', text: data.error});
        return;
      }
      const V = data.V;
      const Re = data.Re;
      const tipo = data.flow_type === 'laminar' ? 'Flujo laminar üü¢' : (data.flow_type === 'transicional' ? 'Flujo transicional (mixto) üü°' : 'Flujo turbulento üî¥');
      const out = document.getElementById('calcResult1');
      out.style.display = 'block';
      out.innerHTML = `<div class="p-3 bg-light rounded border"><strong>Velocidad (V):</strong> ${V.toFixed(3)} m/s<br><strong>Reynolds:</strong> ${Re.toExponential(2)}<br><strong>${tipo}</strong></div>`;
    } catch (err) {
      Swal.close();
      Swal.fire({icon:'error', title:'Error', text:'No se pudo conectar con el servidor.'});
    }
  }

  // ---- Calculadora de caudales (2 tuber√≠as) ----
  document.getElementById('calcButton')?.addEventListener('click', async () => {
    const QT = parseFloat(document.getElementById('QT').value) || 0;
    const D1 = parseFloat(document.getElementById('D1').value) || 0;
    const L1 = parseFloat(document.getElementById('L1').value) || 0;
    const D2 = parseFloat(document.getElementById('D2').value) || 0;
    const L2 = parseFloat(document.getElementById('L2').value) || 0;

    if (QT <= 0 || D1 <= 0 || D2 <= 0 || L1 <= 0 || L2 <= 0){
      Swal.fire({icon:'warning', title:'Datos incompletos', text:'Por favor ingresa valores mayores que cero.'});
      return;
    }
    Swal.fire({title:'Calculando...', didOpen: ()=>{Swal.showLoading();}});
    try {
      const res = await fetch('/api/parallel', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ QT, D1, L1, D2, L2 })
      });
      const data = await res.json();
      Swal.close();
      if (data.error) { Swal.fire({icon:'error', title:'Error', text:data.error}); return; }
      const out = document.getElementById('calcResult');
      out.style.display='block';
      out.innerHTML = `<div class="p-3 bg-light rounded">
        <strong>Q1:</strong> ${data.Q1.toFixed(6)} m¬≥/s<br>
        <strong>Q2:</strong> ${data.Q2.toFixed(6)} m¬≥/s<br>
        <strong>P√©rdida de carga (hf):</strong> ${data.hf.toFixed(5)} m
      </div>`;
    } catch (err) {
      Swal.close();
      Swal.fire({icon:'error', title:'Error', text:'No se pudo conectar con el servidor.'});
    }
  });

  // ---- Resto de scripts: quiz, highlight, reset, etc. (puedes copiar los tuyos tal cual) ----

  // QUIZ (igual que tu original)
  document.getElementById('submitQuiz')?.addEventListener('click', () => {
    const a1 = document.querySelector('input[name=q1]:checked');
    const a2 = document.querySelector('input[name=q2]:checked');
    const a3 = document.querySelector('input[name=q3]:checked');
    if (!a1 || !a2 || !a3){ Swal.fire({icon:'warning', title:'Completa el quiz', text:'Responde todas las preguntas.'}); return; }
    let score=0;
    if (a1.value === 'b') score++;
    if (a2.value === 'a') score++;
    if (a3.value === 'a') score++;
    const percent = Math.round((score/3)*100);
    const icon = percent >= 66 ? 'success' : (percent >= 33 ? 'info' : 'error');
    Swal.fire({icon:icon, title:`Resultado: ${percent}%`, html:`Obtuviste ${score} de 3 aciertos.`});
  });

  document.getElementById('resetQuiz')?.addEventListener('click', () => {
    document.querySelectorAll('#quiz input[type=radio]').forEach(i=>i.checked=false);
  });

  document.querySelectorAll('.navbar a.nav-link').forEach(link=>{
    link.addEventListener('click',(e)=>{
      const href = link.getAttribute('href');
      if (!href || !href.startsWith('#')) return;
      setTimeout(()=>{
        const el = document.querySelector(href);
        if (el){ el.classList.add('glow'); setTimeout(()=>el.classList.remove('glow'),900); }
      },400);
    });
  });

// ===============================
// AGREGAR / ELIMINAR RAMALES
// ===============================
/* ============================
   GENERADOR DE RAMALES
============================ */
let contadorRamal = 1;

document.getElementById("btnAgregarRamal").addEventListener("click", () => {
    const cont = document.getElementById("listaRamales");

    const div = document.createElement("div");
    div.className = "card card-body mb-3 shadow-sm";

    div.innerHTML = `
        <h5 class="mb-3 text-primary">Ramal ${contadorRamal}</h5>

        <div class="row mb-3">
            <div class="col-md-3">
                <label><strong>Longitud (m)</strong></label>
                <input type="number" class="form-control longitud" step="0.01">
            </div>

            <div class="col-md-3">
                <label><strong>Di√°metro (m)</strong></label>
                <input type="number" class="form-control diametro" step="0.0001">
            </div>

            <div class="col-md-3">
                <label><strong>Rugosidad (mm)</strong></label>
                <input type="number" class="form-control rugosidad" step="0.0001">
            </div>

            <div class="col-md-3">
                <label><strong>Caudal (m¬≥/s)</strong></label>
                <input type="number" class="form-control caudal" step="0.0001">
            </div>
        </div>

        <hr>

        <h6 class="text-secondary">Accesorios</h6>
        <div class="row">
            <div class="col-md-2">
                <label>Codos 90¬∞</label>
                <input type="number" class="form-control codos" value="0">
            </div>
            <div class="col-md-2">
                <label>V√°lv. Globo</label>
                <input type="number" class="form-control globo" value="0">
            </div>
            <div class="col-md-2">
                <label>V√°lv. Compuerta</label>
                <input type="number" class="form-control compuerta" value="0">
            </div>
            <div class="col-md-3">
                <label>Entradas</label>
                <input type="number" class="form-control entradas" value="0">
            </div>
            <div class="col-md-3">
                <label>Salidas</label>
                <input type="number" class="form-control salidas" value="0">
            </div>
        </div>
    `;

    contadorRamal++;
    cont.appendChild(div);
});

/* ============================
   ENV√çO A BACKEND
============================ */
/* ============================================
   EVENTO: CALCULAR SISTEMA
============================================ */

document.getElementById("btnCalcular").addEventListener("click", async () => {

    const cards = document.querySelectorAll("#listaRamales .card");

    if (cards.length === 0) {
        Swal.fire("Sin ramales", "Agrega al menos un ramal antes de calcular.", "warning");
        return;
    }

    let ramales = [];

    for (const card of cards) {

        const longitud   = parseFloat(card.querySelector(".longitud").value);
        const diametro   = parseFloat(card.querySelector(".diametro").value);
        const rugosidad  = parseFloat(card.querySelector(".rugosidad").value);
        const caudal     = parseFloat(card.querySelector(".caudal").value);

        const codos      = parseInt(card.querySelector(".codos").value)      || 0;
        const globo      = parseInt(card.querySelector(".globo").value)      || 0;
        const compuerta  = parseInt(card.querySelector(".compuerta").value)  || 0;
        const entradas   = parseInt(card.querySelector(".entradas").value)   || 0;
        const salidas    = parseInt(card.querySelector(".salidas").value)    || 0;

        // VALIDACI√ìN B√ÅSICA
        if (!longitud || !diametro || !caudal) {
            Swal.fire("Datos incompletos", "Todos los ramales deben tener longitud, di√°metro y caudal.", "error");
            return;
        }

        ramales.push({
            longitud,
            diametro,
            rugosidad: rugosidad / 1000, // a metros
            caudal,
            codos,
            globo,
            compuerta,
            entradas,
            salidas
        });
    }

    // ENVIAR AL BACKEND PYTHON
    const respuesta = await fetch("/calcularSistema", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ ramales })
    });

    const datos = await respuesta.json();

    mostrarResultados(datos.resultados);
});

/* ============================================
   MOSTRAR RESULTADOS
============================================ */

function mostrarResultados(lista) {

    const div = document.getElementById("resultados");

    let html = `
        <h3 class="text-primary mb-3">Resultados del Sistema</h3>
        <div class="table-responsive">
        <table class="table table-bordered table-striped">
            <thead class="table-dark">
                <tr>
                    <th>Ramal</th>
                    <th>Velocidad (m/s)</th>
                    <th>Reynolds</th>
                    <th>f</th>
                    <th>P√©rdida Mayor (m)</th>
                    <th>P√©rdida Menor (m)</th>
                    <th>P√©rdida Total (m)</th>
                </tr>
            </thead>
            <tbody>
    `;

    lista.forEach((r, i) => {
        html += `
            <tr>
                <td>${i + 1}</td>
                <td>${r.velocidad.toFixed(3)}</td>
                <td>${r.reynolds.toFixed(0)}</td>
                <td>${r.f.toFixed(5)}</td>
                <td>${r.h_mayor.toFixed(3)}</td>
                <td>${r.h_menor.toFixed(3)}</td>
                <td>${r.h_total.toFixed(3)}</td>
            </tr>
        `;
    });

    html += `
            </tbody>
        </table>
        </div>
    `;

    div.innerHTML = html;
}

</script>
</body>
</html>